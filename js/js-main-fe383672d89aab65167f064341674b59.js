var domReady=function(t){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(t):document.addEventListener("DOMContentLoaded",t)},isPostRequest=function(){return document.documentElement.hasAttribute("data-req-post")},debounce=function(t,e){var n=null,a=function(){window.clearTimeout(n)};return{callback:function(){a(),n=window.setTimeout(t,e)},cancel:a}},hasClass=function(t,e){return("string"==typeof t||t instanceof String?document.getElementById(t):t).classList.contains(e)},addClass=function(t,e){("string"==typeof t||t instanceof String?document.getElementById(t):t).classList.add(e)},removeClass=function(t,e){("string"==typeof t||t instanceof String?document.getElementById(t):t).classList.remove(e)},toggleClass=function(t,e){("string"==typeof t||t instanceof String?document.getElementById(t):t).classList.toggle(e)},show=function(t){removeClass(t,"sat-hide")},hide=function(t){addClass(t,"sat-hide")},toggle=function(t){toggleClass(t,"sat-hide")},scrollToElement=function(t,e){e=e||0;var n=Math.round(window.scrollY+t.getBoundingClientRect().top-56+e);window.scrollTo(0,n)},isVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},getCookie=function(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+t+"=([^;]*)"));return e?e[1]:null},isMailerLiteLoaded=!1,loadMailerLite=function(){if(!isMailerLiteLoaded){var t=document.createElement("script");t.innerHTML="(function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[]).push(arguments);},l=d.createElement(e),l.async=1,l.src=u,n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})(window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');ml('account', '330931');",document.getElementsByTagName("head")[0].appendChild(t),isMailerLiteLoaded=!0}},isTallyLoaded=!1,loadTally=function(){if(!isTallyLoaded){var t=document.createElement("script");t.src="https://tally.so/widgets/embed.js",t.async=!0,document.getElementsByTagName("head")[0].appendChild(t),isTallyLoaded=!0}},disableButtons=function(t){document.getElementById(t).querySelectorAll("button").forEach(function(t){void 0===t.satInitialDisabled&&(t.satInitialDisabled=t.disabled),t.disabled=!0})},reenableButtons=function(t){document.getElementById(t).querySelectorAll("button").forEach(function(t){void 0!==t.satInitialDisabled&&(t.disabled=t.satInitialDisabled,t.satInitialDisabled=void 0)})},clearHistoryInput=function(){var t=document.getElementById("hist");t.value="",t.disabled=!0},setHistoryInput=function(t){var e=document.getElementById("hist");e.value=t,e.disabled=!1},namedLock=function(){var u={},d=50;return function(n,a){return{acquire:function(t){return i=n,r=a,s=void 0!==t?t:1e4,new Promise(function(e,n){var a=Date.now(),o=function(){var t=Date.now()-a;if(!u[i])return u[i]=r,void e(i,t);s<=t?n(new Error("Failed to acquire lock '"+i+"' after "+t+" milliseconds, it is being held by '"+u[i]+"'")):window.setTimeout(function(){o()},d)};o()});var i,r,s},release:function(){return e=a,void(u[t=n]===e&&(u[t]=void 0));var t,e}}}}(),setupPublishSubscribe=function(){var o={change:{name:"change",stateless:!1},input:{name:"input",stateless:!1},click:{name:"click",stateless:!0},"rpc-start":{name:"start.sat.rpc",stateless:!0},"rpc-end":{name:"end.sat.rpc",stateless:!0},"rpc-success":{name:"success.sat.rpc",stateless:!0},"rpc-fail":{name:"fail.sat.rpc",stateless:!0},"hist-start":{name:"start.sat.hist",stateless:!0},"hist-fail":{name:"fail.sat.hist",stateless:!0}},b={value:function(t){return t.value},checked:function(t){return t.checked?"t":"f"}},y={eq:function(t,e){return t===e},ne:function(t,e){return t!==e},bl:function(t){return"t"===t},none:void 0},w={show:show,hide:hide,toggle:toggle,remove:function(t){t.remove()},enable:function(t){t.disabled=!1},disable:function(t){t.disabled=!0},click:function(t){t.click()},collapse:function(t){bootstrap.Collapse.getOrCreateInstance(t,{toggle:!1}).hide()},expand:function(t){bootstrap.Collapse.getOrCreateInstance(t,{toggle:!1}).show()},vdat:function(t,e,n){t.textContent=t.getAttribute("data-sub-vdat"+n).split(";")[e.satPS.valueIdxMap[e.value]]},vdap:function(t,e,n){t.placeholder=t.getAttribute("data-sub-vdap"+n).split(";")[e.satPS.valueIdxMap[e.value]]},uvrp:function(t,e,n,a){t.value=a.detail[t.getAttribute("data-sub-rprop"+n)]||""},utrp:function(t,e,n,a){t.textContent=a.detail[t.getAttribute("data-sub-rprop"+n)]||""},rpc:function(e,t,n){var a=e.getAttribute("data-sub-rpc-url"+n)||t.getAttribute("data-pub-rpc-url"+n),o=e.getAttribute("data-sub-rpc-mtd"+n)||t.getAttribute("data-pub-rpc-mtd"+n),i=e.getAttribute("data-sub-rpc-param"+n)||t.getAttribute("data-pub-rpc-param"+n);if(i){if("function"==typeof e.reportValidity){if(!e.reportValidity())return void addClass(e,"is-invalid")}else if(!e.checkValidity())return void addClass(e,"is-invalid");removeClass(e,"is-invalid"),a+="?"+i+"="+encodeURIComponent(e.value)}e.dispatchEvent(new CustomEvent("start.sat.rpc"));var r=namedLock("history",e.id||t.id);r.acquire().then(function(){return e.dispatchEvent(new CustomEvent("start.sat.rpc")),fetch(a,{method:o})}).then(function(t){if(!t.ok)throw new Error("Request failed with HTTP "+t.status+" "+t.statusText);if("application/json"===t.headers.get("Content-Type"))return t.json()}).then(function(t){e.dispatchEvent(new CustomEvent("end.sat.rpc")),e.dispatchEvent(new CustomEvent("success.sat.rpc",{detail:t}))}).catch(function(t){e.dispatchEvent(new CustomEvent("end.sat.rpc")),e.dispatchEvent(new CustomEvent("fail.sat.rpc"))}).then(function(){r.release()})},hist:function(e,t,n){var a=e.getAttribute("data-sub-hist-url"+n)||t.getAttribute("data-pub-hist-url"+n),o=e.getAttribute("data-sub-hist-mtd"+n)||t.getAttribute("data-pub-hist-mtd"+n);disableButtons("histTable"),e.dispatchEvent(new Event("start.sat.hist"));var i=namedLock("history",e.id||t.id);i.acquire().then(function(){return e.dispatchEvent(new Event("start.sat.hist")),fetch(a,{method:o})}).then(function(t){if(!t.ok)throw new Error("Request failed with HTTP "+t.status+" "+t.statusText);i.release();var e=a.substring(a.lastIndexOf("/")+1);setHistoryInput(e),document.getElementById("satCalcFrm6").noValidate=!0,document.getElementById("calculator-submit-button").click()}).catch(function(t){e.dispatchEvent(new Event("fail.sat.hist")),reenableButtons("histTable"),clearHistoryInput(),i.release()})}};function i(a,o,i){var t=a.getAttribute("data-pub-container");t?t.split(";").forEach(function(t){var p,g,e,v,n="#"+t+" [data-sub"+o+"='"+a.id+"']";p=a,g=o,e=n,v=i,document.querySelectorAll(e).forEach(function(t){var e,n,a,o,i,r,s,u,d,c=function(t,e){var n=b[t.getAttribute("data-pub-test-attr"+e)];if(n)return n(t)}(p,g),l=(e=g,t.getAttribute("data-sub-test-val"+e)),f=(n=p,a=g,o=t.getAttribute("data-sub-test-op"+a)||n.getAttribute("data-pub-test-op"+a),y[o]),m=void 0===f?void 0:f(c,l),h=(i=p,r=g,u=void 0===(s=m)||!0===s?"t":"f",d=t.getAttribute("data-sub-action-"+u+r)||i.getAttribute("data-pub-action-"+u+r),w[d]);h&&h(t,p,g,v)})}):console.error("Publisher #%s does not have a container attribute",a.id)}return function(){document.querySelectorAll("[data-pub]").forEach(function(e){if(e.id){var t=e.getAttribute("data-pub").split(";"),n=1===t.length;t.forEach(function(t){!function(e,t,n){if(o[t]){var a=n?"":"-"+t;e.satPS=e.satPS||{completed:{}},e.satPS.completed[t]||(e.addEventListener(o[t].name,function(t){i(e,a,t)}),function(t){if(t.hasAttribute("data-pub-options")){var e=t.getAttribute("data-pub-options").split(";");t.satPS.valueIdxMap={};for(var n=0;n<e.length;n++)t.satPS.valueIdxMap[e[n]]=n}else if("SELECT"===t.nodeName){t.satPS.valueIdxMap={};for(var n=0;n<t.options.length;n++)t.satPS.valueIdxMap[t.options[n].value]=n}}(e),e.satPS.completed[t]=1),o[t].stateless||i(e,a)}else console.error("Invalid event name '%s' for publisher #%s",t,e.id)}(e,t,n)})}else console.error("Publisher does not have an id attribute: %o",e)})}}(),setupFormValidation=function(){function e(t){t.querySelectorAll("input[pattern][title]").forEach(function(t){t.addEventListener("invalid",function(t){try{t.target.validity.patternMismatch&&t.target.setCustomValidity(t.target.getAttribute("title"))}catch(t){}}),t.addEventListener("input",function(t){try{t.target.setCustomValidity(""),t.target.checkValidity()}catch(t){}})})}return function(t){e(t),t.hasAttribute("data-fetch-action")&&(t.addEventListener("submitted.sat.data-fetch",function(){t.classList.remove("sat-validated")}),t.addEventListener("succeeded.sat.data-fetch",function(){e(t)}))}}(),setupDataFetch=function(){var o={};function u(t,e){if(e)if("function"==typeof t.replaceChildren)t.replaceChildren.apply(t,e.childNodes);else{for(;t.firstChild;)t.firstChild.remove();for(;e.firstChild;)t.appendChild(e.firstChild)}else console.error("Could not find element with id '%s' in source DOM",t.id)}function d(t,n){if(/^(submit|submitted|succeeded|failed)$/.test(n)){o[n]?o[n]+=1:o[n]=1;var a="data-fetch-on-"+n;document.querySelectorAll("["+a+"]").forEach(function(t){var e=t.getAttribute(a);!function(t,e,n){var a;switch(n){case"show":show(e);break;case"hide":hide(e);break;case"enable":e.disabled=!1;break;case"disable":e.disabled=!0;break;default:if(n.startsWith("show>")&&(a=parseInt(n.substring("show>".length),10),!isNaN(a)))return o[t]>a&&show(e);console.error("Unsupported action: '%s'",n)}}(n,t,e)}),t.dispatchEvent(new Event(n+".sat.data-fetch"))}else console.error("Unsupported event type '%s'",n)}var t,e=(t=!isPostRequest(),function(){return t?(t=!1,1200):700});function n(a,o){delete o.dataset.error,d(o,"submit");var n=function(t){if(e=o,!(n=t.getElementById(e.id))||e.getAttribute("data-fetch-version")!==n.getAttribute("data-fetch-version"))return console.warn("Version mismatch, reloading the page"),void o.submit();var e,n,a;a=t,document.querySelectorAll("[data-fetch-target]").forEach(function(t){var e=a.getElementById(t.id),n=t.querySelectorAll("[data-fetch-skip]");u(t,e),n.forEach(function(t){u(document.getElementById(t.id),t)})}),d(o,"submitted"),d(o,"succeeded")},i=function(t){o.dataset.error=t.toString(),d(o,"submitted"),d(o,"failed")},r=e(),s=Date.now(),t=namedLock("history",o.id);t.acquire().then(function(){return fetch(a,{method:"POST",headers:{Accept:"text/plain,text/*;q=0.9,*/*;q=0.8","Content-Type":"application/x-www-form-urlencoded"},body:(t=o,e=new FormData(t),n=[],e.forEach(function(t,e){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&"))});var t,e,n}).then(function(t){if(!t.ok)throw new Error("Request failed with HTTP "+t.status+" "+t.statusText);return t.text()}).then(function(t){return(new DOMParser).parseFromString(t,"text/html")}).then(function(t){var e=r-(Date.now()-s);0<e?window.setTimeout(function(){n(t)},e):n(t)}).catch(function(t){var e=r-(Date.now()-s);0<e?window.setTimeout(function(){i(t)},e):i(t)}).then(function(){t.release()})}return function(e){e.hasAttribute("data-fetch-action")&&"function"==typeof FormData&&"function"==typeof fetch&&"function"==typeof DOMParser&&e.addEventListener("submit",function(t){t.preventDefault(),n(e.getAttribute("data-fetch-action"),e)})}}(),setupReactive=function(){var n="data-reactive-toggle-attribute",a="data-reactive-toggle-class",i="data-reactive-output-format",r="data-reactive-output-format-digits";function e(t,e){t.hasAttribute(n)&&e.toggleAttribute(t.getAttribute(n),!t.checked),t.hasAttribute(a)&&e.classList.toggle(t.getAttribute(a))}function o(t,e){var n=t.getAttribute(i),a=t.getAttribute(r),o=Number(t.value).toFixed(parseInt(a,10));e.textContent=n?n.replace("%s",o):o}function s(e,t,n){var a=e.getAttribute(t),o=document.querySelectorAll(a);0!==o.length?o.forEach(function(t){n(e,t)}):console.error("Cannot find any reactive target elements with selector '%s'",a)}function u(t,o,i,r){var e=t.querySelectorAll("input[type='"+o+"']["+i+"]");e.length&&(e.forEach(function(t){s(t,i,r)}),t.addEventListener("input",function(t){var e,n,a;e=t.target,n=o,a=i,e instanceof HTMLInputElement&&e.type===n&&e.hasAttribute(a)&&s(t.target,i,r)}))}return function(t){u(t,"range","data-reactive-output",o),u(t,"checkbox","data-reactive-toggle",e)}}(),setupTallyModal=function(t){var e=document.getElementById(t+"Modal");if(e){var n=bootstrap.Modal.getInstance(e);n||(n=new bootstrap.Modal(e),document.getElementById(t+"Iframe").addEventListener("load",function(){hide(t+"Loading")}));var a=document.getElementById(t+"Link");a&&!a.dataset.satOnClickShowModal&&(a.addEventListener("click",function(t){var e;t.preventDefault(),e=n,loadTally(),window.setTimeout(function(){e.show()})}),a.dataset.satOnClickShowModal="set")}};domReady(function(){var t=document.querySelectorAll("[data-lazy-img-src]");if("IntersectionObserver"in window){var n=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var e=t.target;e.src=e.getAttribute("data-lazy-img-src"),n.unobserve(e)}})});t.forEach(function(t){n.observe(t)})}else t.forEach(function(t){t.src=t.getAttribute("data-lazy-img-src")})}),domReady(function(){var e="newsletter-modal-shown",n=new bootstrap.Modal(document.getElementById("newsletter-modal")),a=function(){var t;loadMailerLite(),window.setTimeout(function(){n.show()}),(t=new Date).setDate(t.getDate()+90),document.cookie=e+"=true; expires="+t.toUTCString()+"; max-age=7776000; path=/"},o=document.getElementById("newsletter-hideable-card");-1===document.cookie.indexOf(e)&&o&&show(o);["newsletter-footer-link","newsletter-footer-input","newsletter-footer-form","newsletter-incontent-input","newsletter-incontent-form"].map(function(t){return document.getElementById(t)}).filter(function(t){return null!==t}).forEach(function(t){var e=t instanceof HTMLFormElement?"submit":"click";t.addEventListener(e,function(t){t.preventDefault(),a(),o&&hide(o)})})}),domReady(function(){var e=document.getElementById("scroll-progress-indicator");if(e){var t=function(){var t=Math.min(100,100*window.scrollY/(document.body.offsetHeight-window.innerHeight));e.style.width=5<t?t.toFixed(4)+"%":"0%"},n=!1;document.addEventListener("scroll",function(){n||window.setTimeout(function(){t(),n=!1}),n=!0}),t()}}),domReady(function(){document.querySelectorAll("a[href^='#']").forEach(function(t){var n=t.getAttribute("href").substring(1);n&&t.addEventListener("click",function(t){var e=document.getElementById(n);e&&(t.preventDefault(),scrollToElement(e))})})}),domReady(function(){var t=document.getElementById("satCalcFrm6");if(t){setupDataFetch(t),setupFormValidation(t),setupReactive(t),setupPublishSubscribe(),clearHistoryInput();var e=function(){return isVisible(document.getElementById("resultsSectionMobile"))},n=function(){scrollToElement(document.getElementById("mobileHeaderAdContainer"),33)};new bootstrap.ScrollSpy(document.body,{target:"#toolbarDropdown",rootMargin:"0px 0px -20%"});var a=document.getElementById("toolbarLink");document.body.addEventListener("activate.bs.scrollspy",function(t){a.innerHTML=t.relatedTarget.innerHTML});var o=function(e){var t=document.getElementById(e+".amountType");if(t){var n=function(t){"FIXED_AMOUNT"===t?(show(e+".numericAmount.value"),show(e+".numericAmount.payPeriod"),hide(e+".percentageAmount.whole"),hide(e+".percentageAmount.decimalSeparator"),hide(e+".percentageAmount.fraction")):(hide(e+".numericAmount.value"),hide(e+".numericAmount.payPeriod"),show(e+".percentageAmount.whole"),show(e+".percentageAmount.decimalSeparator"),show(e+".percentageAmount.fraction"))};n(t.value),t.addEventListener("change",function(t){n(t.target.value)})}};o("pension"),o("bonus");var i=function(){var t=document.getElementById("taxClass");if(t){var e=function(t){document.getElementById("hasChildren").disabled="TWO"===t&&(document.getElementById("hasChildren").checked=!0)};e(t.value),t.addEventListener("change",function(t){e(t.target.value)})}};i();var r=function(){var t=document.getElementById("personalCircumstances");if(t){var e=function(t){document.getElementById("spouseSalary").required="MARRIED_TWO_INCOMES"===t?(show("spouse-income"),!0):(hide("spouse-income"),!1)};e(t.value),t.addEventListener("change",function(t){e(t.target.value)})}};r();var s=function(){var t=document.getElementById("eligibleFor30PercentRuling");if(t){var e=function(){!0===t.checked?show("rulingCriteriaSection"):hide("rulingCriteriaSection")};e(),t.addEventListener("change",function(){e()})}};s();var u=function(){var t=document.getElementById("payPeriod");if(t){var n=document.getElementById("grossSalary"),e=function(t){hide("working-period"),hide("working-days-per-week"),hide("working-hours-per-week"),hide("working-weeks-per-year"),hide("working-months-per-year");var e=document.getElementById("working-period").getAttribute("data-show-months-per-year");"HOURLY"===t?(show("working-period"),show("working-hours-per-week"),show("working-weeks-per-year")):"DAILY"===t?(show("working-period"),show("working-days-per-week"),show("working-weeks-per-year")):"WEEKLY"===t||"BIWEEKLY"===t?(show("working-period"),show("working-weeks-per-year")):"MONTHLY"!==t&&"SEMIMONTHLY"!==t&&"true"!==e||(show("working-period"),show("working-months-per-year")),"DAILY"===t||"HOURLY"===t?(n.removeAttribute("inputmode"),document.getElementById("grossSalarySpouse")&&document.getElementById("grossSalarySpouse").removeAttribute("inputmode")):(n.setAttribute("inputmode","numeric"),document.getElementById("grossSalarySpouse")&&document.getElementById("grossSalarySpouse").setAttribute("inputmode","numeric"))};e(t.value),t.addEventListener("change",function(t){e(t.target.value),n.toggleAttribute("required",!1),n.value&&(n.value="",n.dispatchEvent(new Event("input",{bubbles:!0})))}),n.addEventListener("blur",function(){n.toggleAttribute("required",!0)})}};u(),document.getElementById("calculator-submit-button").addEventListener("click",function(){document.getElementById("grossSalary").toggleAttribute("required",!0),t.noValidate||t.classList.add("sat-validated")});var d,c=function(t){if(hasClass("emptySalaryInfoHeader","sat-hide")){var e=document.getElementById("payPeriodSelectHeader"),n=document.getElementById("payPeriodInfoHeader"),a=document.getElementById("quickNavigationHeader");hide(e),hide(n),hide(a),"resultsChartCarouselItem"===(t=t||document.querySelector("#resultsCarousel .carousel-item.active").id)&&(show(e),show(n)),"resultsTableCarouselItem"===t?(show(e),show(n)):"resultsMenuCarouselItem"===t&&show(a)}};d=document.getElementById("resultsCarousel"),new bootstrap.Carousel(d),c(),d.addEventListener("slide.bs.carousel",function(t){c(t.relatedTarget.id)});var l=debounce(function(){document.querySelectorAll("#resultsTableCaptionMobile > small").forEach(hide),document.querySelectorAll("#resultsChartCaptionMobile > small").forEach(hide),document.querySelectorAll(".sat-result-unsubmitted-changes").forEach(show)},200);t.addEventListener("change",l.callback),t.addEventListener("submit.sat.data-fetch",l.cancel);var f=function(){document.querySelectorAll("[data-bs-toggle='popover']").forEach(function(t){bootstrap.Popover.getOrCreateInstance(t)})};f(),setupTallyModal("feedback"),t.addEventListener("submit.sat.data-fetch",function(){disableButtons("histTable"),hasClass("mobileHeaderAdContainer","visually-hidden")&&function(){document.getElementById("mobileHeaderAdContainer").innerHTML='<div id="mobileHeaderAd" data-fuse="mobile_header" class="sat-ad sat-ad-header-mobile"></div>';var t=window.fusetag||(window.fusetag={que:[]});t.que.push(function(){t.registerZone("mobileHeaderAd")})}()}),t.addEventListener("submitted.sat.data-fetch",function(){reenableButtons("histTable"),clearHistoryInput(),t.noValidate=!1}),t.addEventListener("failed.sat.data-fetch",function(){hasClass("mobileHeaderAdContainer","visually-hidden")&&(document.getElementById("mobileHeaderAdContainer").innerHTML="")}),t.addEventListener("succeeded.sat.data-fetch",function(){removeClass("mobileHeaderAdContainer","visually-hidden"),e()&&n(),setupPublishSubscribe(),document.querySelectorAll(".sat-result-unsubmitted-changes").forEach(hide),o("pension"),o("bonus"),r(),s(),u(),i(),f(),c()});var m=document.getElementById("calculator-country-title"),h=document.getElementById("calculator-country-button"),p=document.getElementById("calculator-country-dropdown-menu");m.addEventListener("click",function(){p.classList.contains("show")||window.setTimeout(function(){h.click()})}),isPostRequest()&&e()&&n()}}),domReady(function(){var t=document.getElementById("cost-of-living-calculator-form");if(t){setupDataFetch(t),setupFormValidation(t),setupReactive(t);var e=document.getElementById("calculator-city-title"),n=document.getElementById("calculator-city-button"),a=document.getElementById("calculator-city-dropdown-menu");e.addEventListener("click",function(){a.classList.contains("show")||window.setTimeout(function(){n.click()})});var o=function(t){var e=document.getElementById(t);e&&bootstrap.Popover.getOrCreateInstance(e)};o("accommodationPopover"),t.addEventListener("succeeded.sat.data-fetch",function(){o("accommodationPopover")})}});